(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6682],{80216:function(e,t,n){"use strict";n.r(t);var r,o=n(96987),i=n(52322),a=n(66601),c=n(29931),l=n(97290),u=n(40646),s=n(76691),p=n(55089),f=n(77460),d=n(2784),h=n(97729),y=n(5632),v=n(82740),g=n(94184),m=n.n(g),b=n(46898),w=n.n(b),O=n(44615),C=n(55386),_=n(90672),T=n(40111),P=n(24834),Z=n(40754),j=n(16983),E=n(7216),N=n.n(E),L=n(58792),k=n(33149),D=n(19691),S=n(64066),M=n(31346),A=n(85218),x=n(91339);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.Z)(e);if(t){var o=(0,p.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var H=(0,j.uB)((function(){return Promise.all([n.e(9462),n.e(8315)]).then(n.bind(n,58315))})),V=(r={},(0,f.Z)(r,N().cryptocurrency.type.COINS,"Coins"),(0,f.Z)(r,N().cryptocurrency.type.TOKENS,"Tokens"),r),F=v.ZP.div.withConfig({componentId:"sc-30923r-0"})([".cmc-view-all__table-footer{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:24px;}.cmc-view-all__asterisks{font-style:italic;}"]),K=function(e){(0,u.Z)(n,e);var t=z(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return e=t.call.apply(t,[this].concat(c)),(0,f.Z)((0,l.Z)(e),"state",{page:1}),(0,f.Z)((0,l.Z)(e),"handleRouteChange",(function(){e.setState({page:1})})),(0,f.Z)((0,l.Z)(e),"loadMore",(function(){var t=e.state.page+1;e.setState({page:t},(function(){var n=e.props,r=n.getMore,o=n.cryptocurrencyType,i=n.listingLatest;r({page:t,sort:N().sort.MARKET_CAP,cryptocurrencyType:o,pageSize:200,concat:!0,filters:i.filters})}))})),(0,f.Z)((0,l.Z)(e),"getTitle",(function(){var t=e.props,n=t.cryptocurrencyType,r=t.t;return n===N().cryptocurrency.type.ALL?r("All Cryptocurrencies"):n===N().cryptocurrency.type.COINS?r("All Coins"):r("All Tokens")})),(0,f.Z)((0,l.Z)(e),"getDescription",(function(){var t=e.props,n=t.cryptocurrencyType,r=t.t;return n===N().cryptocurrency.type.ALL?r("View the full list of all active cryptocurrencies."):n===N().cryptocurrency.type.COINS?r("View the full list of all active coins."):r("View the full list of all active tokens.")})),(0,f.Z)((0,l.Z)(e),"getPathName",(function(){var t=e.props.cryptocurrencyType;return t===N().cryptocurrency.type.ALL?"/all/views/all/":t===N().cryptocurrency.type.COINS?"/coins/views/all/":"/tokens/views/all/"})),(0,f.Z)((0,l.Z)(e),"getTableColumns",(function(){var t=e.props,n=t.t,r=t.isNarrowLayout,o=e.props.cryptocurrencyType,i=new k.wy(r,n);return r&&o!==N().cryptocurrency.type.TOKENS?[i.rank(),i.name(),i.marketCap(),i.price(),i.circulatingSupply(),i.volume2("volume24h",n("Volume24h")),i.change1h("percentChange1h","percentChange1h",n("% 1h")),i.change24h("percentChange24h","percentChange24h",n("% 24h")),i.change7d("percentChange7d","percentChange7d",n("% 7d")),i.options()]:[i.rank(),i.name(),o===N().cryptocurrency.type.TOKENS?i.platform(!0):i.symbol(!0),i.marketCap(),i.price(),i.circulatingSupply2(),i.volume2("volume24h",n("Volume(24h)")),i.change1h("percentChange1h","percentChange1h",n("% 1h")),i.change24h("percentChange24h","percentChange24h",n("% 24h")),i.change7d("percentChange7d","percentChange7d",n("% 7d")),i.options()]})),(0,f.Z)((0,l.Z)(e),"getTableData",(function(){var t=e.props.listingLatest,n=t.sort,r=t.sortDirection,o=t.data;return(0,j.dV)(o,n,r)})),(0,f.Z)((0,l.Z)(e),"renderCustomFooter",(function(){var t=e.props,n=t.cryptocurrencyType,r=t.t;return(0,i.jsxs)("div",{className:"cmc-view-all__table-footer",children:[n!==N().cryptocurrency.type.TOKENS?(0,i.jsx)("div",{className:"cmc-view-all__asterisks",children:r("* Not Mineable")}):(0,i.jsx)("div",{}),(0,i.jsx)(S.Z,{href:"/",className:"cmc-view-all__back-button",children:"\u2190 "+r("Back to Top 100")})]})})),(0,f.Z)((0,l.Z)(e),"handleFilterChange",(function(t){var n=e.props,r=n.getMore,i=n.listingParams,a=n.router;e.setState({page:1},(function(){r(I(I({},i),{},{page:1,filters:I({},t)}))}));var c=a.query,l=(c.page,(0,o.Z)(c,["page"]));a.push({pathname:a.pathname,query:l},(0,C.url)(a.pathname,l),{shallow:!0}),(0,Z.Z)((function(){var e=Object.keys(t).reduce((function(e,n){var r=t[n];return r&&(e[n]=r.floatValue),e}),{});P.Z.sendEvent({category:"Homepage Filters",action:"Filter Set",label:JSON.stringify(e)})}))})),e}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){y.default.events.on("routeChangeComplete",this.handleRouteChange)}},{key:"componentWillUnmount",value:function(){y.default.events.off("routeChangeComplete",this.handleRouteChange)}},{key:"render",value:function(){var e=this.props,t=e.listingLatest,n=e.locale,r=e.className,o=e.gaPageviewProps,a=e.t,c=this.state.page,l=this.getTableData(),u=t.data&&t.data[0]&&t.data[0].last_updated;return(0,i.jsxs)(F,{className:m()(r,{"cmc-view-all-coins":!0}),children:[(0,i.jsxs)(h.default,{children:[(0,T.ud)(this.getTitle()),(0,T._u)(this.getDescription())]}),(0,i.jsx)(L.Z,I({},o)),(0,i.jsx)(M.H1,{center:!0,children:this.getTitle()}),(0,i.jsx)(D.Z,{selectedTab:"cryptocurrencies",pathname:this.getPathName(),tableColumns:this.getTableColumns(),tableData:l,lastUpdated:u,sort:t.sort,sortDirection:t.sortDirection,setSort:A.setCryptocurrencyListingsLatestSort,loadmore:t.data.length%100===0&&t.data.length>0,onLoadMore:this.loadMore,loading:t.page+1===c,tight:!0,renderCustomFooter:this.renderCustomFooter,filters:(0,i.jsx)(H,{filters:t.filters,locale:n,onApply:this.handleFilterChange,t:a}),t:a})]})}}],[{key:"getInitialProps",value:function(e){var t=e.ctx.query,n=void 0===t?{}:t,r=e.ctx.store,o=r.dispatch,i=(0,r.getState)().cryptocurrency.listingLatest,a=n.cryptocurrencyType||N().cryptocurrency.type.ALL,c={cryptocurrencyType:a,filters:i.filters,page:1,pageSize:200,sort:N().sort.MARKET_CAP};return o((0,A.getCryptocurrencyListingsLatest)(c)),{cryptocurrencyType:a,gaPageviewProps:{section:"Market Cap",subSection:V[a]||"Cryptocurrencies"},listingParams:c}}}]),n}(d.PureComponent),U=w()(y.withRouter,(0,O.$j)((function(e){return{isNarrowLayout:e.app.window.isNarrowLayout,listingLatest:e.cryptocurrency.listingLatest,locale:e.app.locale}}),(function(e){return{getMore:function(){e(A.getCryptocurrencyListingsLatest.apply(void 0,arguments))}}})),(0,_.GV)())(K);U.gaPageviewProps={disabled:!0},U.AppWrapper=x.Z,t.default=U},1457:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/view-all",function(){return n(80216)}])},39879:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2784),i=f(o),a=f(n(28316)),c=f(n(13980)),l=n(45368),u=f(n(43661)),s=f(n(5489)),p=f(n(92492));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=0,g=0,m="data-lazyload-listened",b=[],w=[],O=!1;try{var C=Object.defineProperty({},"passive",{get:function(){O=!0}});window.addEventListener("test",null,C)}catch(L){}var _=!!O&&{capture:!1,passive:!0},T=function(e){var t=a.default.findDOMNode(e);if(t instanceof HTMLElement){var n=(0,u.default)(t);(e.props.overflow&&n!==t.ownerDocument&&n!==document&&n!==document.documentElement?function(e,t){var n=a.default.findDOMNode(e),r=void 0,o=void 0;try{var i=t.getBoundingClientRect();r=i.top,o=i.height}catch(L){r=v,o=g}var c=window.innerHeight||document.documentElement.clientHeight,l=Math.max(r,0),u=Math.min(c,r+o)-l,s=void 0,p=void 0;try{var f=n.getBoundingClientRect();s=f.top,p=f.height}catch(L){s=v,p=g}var d=s-l,h=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return d-h[0]<=u&&d+p+h[1]>=0}(e,n):function(e){var t=a.default.findDOMNode(e);if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var n=void 0,r=void 0;try{var o=t.getBoundingClientRect();n=o.top,r=o.height}catch(L){n=v,r=g}var i=window.innerHeight||document.documentElement.clientHeight,c=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return n-c[0]<=i&&n+r+c[1]>=0}(e))?e.visible||(e.props.once&&w.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},P=function(){for(var e=0;e<b.length;++e){var t=b[e];T(t)}w.forEach((function(e){var t=b.indexOf(e);-1!==t&&b.splice(t,1)})),w=[]},Z=void 0,j=null,E=function(e){function t(e){d(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.visible=!1,n}return y(t,e),r(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&"string"===typeof t&&(e=e.document.querySelector(t));var n=void 0!==this.props.debounce&&"throttle"===Z||"debounce"===Z&&void 0===this.props.debounce;if(n&&((0,l.off)(e,"scroll",j,_),(0,l.off)(window,"resize",j,_),j=null),j||(void 0!==this.props.debounce?(j=(0,s.default)(P,"number"===typeof this.props.debounce?this.props.debounce:300),Z="debounce"):void 0!==this.props.throttle?(j=(0,p.default)(P,"number"===typeof this.props.throttle?this.props.throttle:300),Z="throttle"):j=P),this.props.overflow){var r=(0,u.default)(a.default.findDOMNode(this));if(r&&"function"===typeof r.getAttribute){var o=+r.getAttribute(m)+1;1===o&&r.addEventListener("scroll",j,_),r.setAttribute(m,o)}}else if(0===b.length||n){var i=this.props,c=i.scroll,f=i.resize;c&&(0,l.on)(e,"scroll",j,_),f&&(0,l.on)(window,"resize",j,_)}b.push(this),T(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,u.default)(a.default.findDOMNode(this));if(e&&"function"===typeof e.getAttribute){var t=+e.getAttribute(m)-1;0===t?(e.removeEventListener("scroll",j,_),e.removeAttribute(m)):e.setAttribute(m,t)}}var n=b.indexOf(this);-1!==n&&b.splice(n,1),0===b.length&&"undefined"!==typeof window&&((0,l.off)(window,"resize",j,_),(0,l.off)(window,"scroll",j,_))}},{key:"render",value:function(){return this.visible?this.props.children:this.props.placeholder?this.props.placeholder:i.default.createElement("div",{style:{height:this.props.height},className:"lazyload-placeholder"})}}]),t}(o.Component);E.propTypes={once:c.default.bool,height:c.default.oneOfType([c.default.number,c.default.string]),offset:c.default.oneOfType([c.default.number,c.default.arrayOf(c.default.number)]),overflow:c.default.bool,resize:c.default.bool,scroll:c.default.bool,children:c.default.node,throttle:c.default.oneOfType([c.default.number,c.default.bool]),debounce:c.default.oneOfType([c.default.number,c.default.bool]),placeholder:c.default.node,scrollContainer:c.default.oneOfType([c.default.string,c.default.object]),unmountIfInvisible:c.default.bool},E.defaultProps={once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};var N=function(e){return e.displayName||e.name||"Component"};t.ZP=E},5489:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=void 0,o=void 0,i=void 0,a=void 0,c=void 0,l=function l(){var u=+new Date-a;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(c=e.apply(i,o),r||(i=null,o=null)))};return function(){i=this,o=arguments,a=+new Date;var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(c=e.apply(i,o),i=null,o=null),c}}},45368:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,n,r){r=r||!1,e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,(function(t){n.call(e,t||window.event)}))},t.off=function(e,t,n,r){r=r||!1,e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)}},43661:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,n=/(scroll|auto)/,r=e;r;){if(!r.parentNode)return e.ownerDocument||document.documentElement;var o=window.getComputedStyle(r),i=o.position,a=o.overflow,c=o["overflow-x"],l=o["overflow-y"];if("static"===i&&t)r=r.parentNode;else{if(n.test(a)&&n.test(c)&&n.test(l))return r;r=r.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},92492:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,o;return t||(t=250),function(){var i=n||this,a=+new Date,c=arguments;r&&a<r+t?(clearTimeout(o),o=setTimeout((function(){r=a,e.apply(i,c)}),t)):(r=a,e.apply(i,c))}}},68685:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return r}})},8253:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(55089);function o(e,t,n){return(o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[217,5899,1657,5070,1516,2526,7711,9567,2235,248,9883,4098,9691,9774,2888,179],(function(){return t(24458),t(1457)}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=view-all-f7515ac179c691ffb349.js.map